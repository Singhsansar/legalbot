{"ast":null,"code":"/**\n *Returns the Tanimoto similarity  between vectors p and q, and accepts the bitVector use, see the test case for an example\n * @link [Tanimoto similarity algorithm](https://www.naun.org/main/NAUN/ijmmas/mmmas-49.pdf)\n * @param a - first vector\n * @param b - second vector\n * @param bitvector - bitVector\n *\n */\nexport default function tanimoto(a, b, bitvector) {\n  if (bitvector) {\n    let inter = 0;\n    let union = 0;\n    for (let j = 0; j < a.length; j++) {\n      inter += a[j] && b[j];\n      union += a[j] || b[j];\n    }\n    if (union === 0) {\n      return 1;\n    }\n    return inter / union;\n  } else {\n    let p = 0;\n    let q = 0;\n    let m = 0;\n    for (let i = 0; i < a.length; i++) {\n      p += a[i];\n      q += b[i];\n      m += Math.min(a[i], b[i]);\n    }\n    return 1 - (p + q - 2 * m) / (p + q - m);\n  }\n}","map":{"version":3,"names":["tanimoto","a","b","bitvector","inter","union","j","length","p","q","m","i","Math","min"],"sources":["/home/nikhil/legalbot/legalbot/node_modules/ml-distance/src/similarities/tanimoto.ts"],"sourcesContent":["import { NumberArray } from 'cheminfo-types';\n/**\n *Returns the Tanimoto similarity  between vectors p and q, and accepts the bitVector use, see the test case for an example\n * @link [Tanimoto similarity algorithm](https://www.naun.org/main/NAUN/ijmmas/mmmas-49.pdf)\n * @param a - first vector\n * @param b - second vector\n * @param bitvector - bitVector\n *\n */\nexport default function tanimoto(\n  a: NumberArray,\n  b: NumberArray,\n  bitvector?: boolean,\n): number {\n  if (bitvector) {\n    let inter = 0;\n    let union = 0;\n    for (let j = 0; j < a.length; j++) {\n      inter += a[j] && b[j];\n      union += a[j] || b[j];\n    }\n    if (union === 0) {\n      return 1;\n    }\n    return inter / union;\n  } else {\n    let p = 0;\n    let q = 0;\n    let m = 0;\n    for (let i = 0; i < a.length; i++) {\n      p += a[i];\n      q += b[i];\n      m += Math.min(a[i], b[i]);\n    }\n    return 1 - (p + q - 2 * m) / (p + q - m);\n  }\n}\n"],"mappings":"AACA;;;;;;;;AAQA,eAAc,SAAUA,QAAQA,CAC9BC,CAAc,EACdC,CAAc,EACdC,SAAmB;EAEnB,IAAIA,SAAS,EAAE;IACb,IAAIC,KAAK,GAAG,CAAC;IACb,IAAIC,KAAK,GAAG,CAAC;IACb,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGL,CAAC,CAACM,MAAM,EAAED,CAAC,EAAE,EAAE;MACjCF,KAAK,IAAIH,CAAC,CAACK,CAAC,CAAC,IAAIJ,CAAC,CAACI,CAAC,CAAC;MACrBD,KAAK,IAAIJ,CAAC,CAACK,CAAC,CAAC,IAAIJ,CAAC,CAACI,CAAC,CAAC;;IAEvB,IAAID,KAAK,KAAK,CAAC,EAAE;MACf,OAAO,CAAC;;IAEV,OAAOD,KAAK,GAAGC,KAAK;GACrB,MAAM;IACL,IAAIG,CAAC,GAAG,CAAC;IACT,IAAIC,CAAC,GAAG,CAAC;IACT,IAAIC,CAAC,GAAG,CAAC;IACT,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGV,CAAC,CAACM,MAAM,EAAEI,CAAC,EAAE,EAAE;MACjCH,CAAC,IAAIP,CAAC,CAACU,CAAC,CAAC;MACTF,CAAC,IAAIP,CAAC,CAACS,CAAC,CAAC;MACTD,CAAC,IAAIE,IAAI,CAACC,GAAG,CAACZ,CAAC,CAACU,CAAC,CAAC,EAAET,CAAC,CAACS,CAAC,CAAC,CAAC;;IAE3B,OAAO,CAAC,GAAG,CAACH,CAAC,GAAGC,CAAC,GAAG,CAAC,GAAGC,CAAC,KAAKF,CAAC,GAAGC,CAAC,GAAGC,CAAC,CAAC;;AAE5C","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}